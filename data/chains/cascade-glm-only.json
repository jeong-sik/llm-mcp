{
  "id": "cascade-glm-only",
  "name": "GLM-Only 3-Tier Cascade",
  "description": "Z.ai GLM models only. Zero external API cost. Escalates from lightweight to heavyweight on low confidence.",
  "version": "1.0.0",
  "nodes": [
    {
      "id": "glm_light",
      "type": "llm",
      "model": "ollama:glm-4.5",
      "prompt": "{{input}}"
    },
    {
      "id": "glm_mid",
      "type": "llm",
      "model": "ollama:glm-4.7",
      "prompt": "{{input}}"
    },
    {
      "id": "glm_heavy",
      "type": "llm",
      "model": "ollama:glm-5",
      "prompt": "{{input}}"
    },
    {
      "id": "cascade",
      "type": "cascade",
      "tiers": [
        {
          "tier_node": { "id": "glm_light_ref", "type": "chain_ref", "ref": "glm_light" },
          "tier_index": 0,
          "confidence_threshold": 0.7,
          "cost_weight": 0.0,
          "pass_context": false
        },
        {
          "tier_node": { "id": "glm_mid_ref", "type": "chain_ref", "ref": "glm_mid" },
          "tier_index": 1,
          "confidence_threshold": 0.7,
          "cost_weight": 0.0,
          "pass_context": true
        },
        {
          "tier_node": { "id": "glm_heavy_ref", "type": "chain_ref", "ref": "glm_heavy" },
          "tier_index": 2,
          "confidence_threshold": 0.0,
          "cost_weight": 0.0,
          "pass_context": true
        }
      ],
      "max_escalations": 2,
      "context_mode": "summary"
    }
  ],
  "output": "cascade",
  "config": {
    "max_depth": 4,
    "max_concurrency": 1,
    "timeout": 120,
    "trace": true,
    "direction": "LR"
  },
  "metadata": {
    "category": "routing",
    "use_case": "Zero-cost GLM cascade for Second Brain search pipeline auxiliary LLM tasks",
    "tier_models": ["glm-4.5", "glm-4.7", "glm-5"],
    "api_endpoint": "https://api.z.ai/api/coding/paas/v4/chat/completions"
  }
}
